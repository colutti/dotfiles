# ~/.config/hypr/hypridle.conf
#
# Configuração do Hypridle - O daemon de inatividade do Hyprland
# -----------------------------------------------------------------
#
# Este arquivo usa "listeners" para definir ações após certos
# períodos de inatividade.
#
# NOTA: Para este arquivo funcionar, 'hypridle' deve ser iniciado.
# Adicione 'exec-once = hypridle' ao seu 'hyprland.conf'.
#
# Você também precisará de um programa de bloqueio de tela,
# como 'swaylock', 'swaylock-effects' ou o novo 'hyprlock'.
# -----------------------------------------------------------------

general {
    # Comando para travar a tela antes de suspender (ex: fechar a tampa)
    before_sleep_cmd = hyprlock
    
    # Comando para rodar depois de acordar da suspensão
    after_sleep_cmd = hyprctl dispatch dpms on
    
    # Travar a tela imediatamente ao fechar a tampa do notebook
    lock_on_lid = true
    
    # Ignorar inibidores de idle (NÃO RECOMENDADO)
    # ignore_dbus_inhibit = false
}

# -----------------------------------------------------------------
# Listener 1: Travar a tela após 5 minutos de inatividade
# -----------------------------------------------------------------
listener {
    # 5 minutos = 300 segundos
    timeout = 300
    
    # Comando para executar quando o timeout for atingido
    # Troque 'swaylock -f' pelo seu locker preferido (ex: hyprlock)
    on-timeout = hyprlock
    
    # Comando para executar ao "acordar" (mover o mouse, etc.)
    # Isso garante que a tela acenda se o 'listener 2' a tiver desligado
    on-resume = hyprctl dispatch dpms on
}

# -----------------------------------------------------------------
# Listener 2: Desligar a tela (DPMS) após 10 minutos
# -----------------------------------------------------------------
listener {
    # 10 minutos = 600 segundos
    timeout = 600
    
    # Comando para desligar a tela (modo de economia de energia)
    on-timeout = hyprctl dispatch dpms off
    
    # Comando para ligar a tela novamente ao "acordar"
    on-resume = hyprctl dispatch dpms on
}

# -----------------------------------------------------------------
# Listener 3: Suspender o sistema (dormir) após 30 minutos
# -----------------------------------------------------------------
listener {
    # 30 minutos = 1800 segundos
    timeout = 1800
    
    # Comando para suspender o sistema
    on-timeout = systemctl suspend
    
    # Comando para executar ao "acordar" (desnecessário aqui, 
    # mas bom para garantir)
    on-resume = hyprctl dispatch dpms on
}
